<div class="row">
  <div class="col s12">

    <div class="section">
      <h3>My Account</h3>
    </div>

    <div class="section">

      <div class="card">
        <div class="card-content">

          <div class="row no-bottom-margin flex-center flex-wrap">

            <div class="col s12 l6">
              <%= render "edit_registration_avatar" %>
            </div>

            <div class="col s12 l6">
              <%= render "edit_registration_form" %>
            </div>

          </div>

        </div>
      </div>

    </div>

  </div>
</div>

<% content_for :javascript do %>
  <script type="text/javascript">
    $(document).ready(function() {

      var userInputs = $('input').filter(function() {
        if (!_.includes($(this).attr('id'), 'current')) {
          return $(this).attr('id')
        }
      });

      var initialValues = $(userInputs).map(function() { return $(this).val(); }).toArray();

      $("input").on("change", function(e) {
        var changedValues = userInputs.map(function() { return $(this).val() }).toArray();
        var equalValues = !_.isEqual(initialValues, changedValues)
        $("#edit-register-submit").toggleClass('active-submit', equalValues)
      });

    });
  </script>
<% end %>
